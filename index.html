<!DOCTYPE html>
<html>
  <head>
    <!-- 文字コード変更 -->
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <style type="text/css">
      body
      {
        /*background-color:green;*/
        margin: 0;
      }

      ol
      {
        margin-left: 1em;
        /*column-count: 3;
        column-width: 50px;*/
      }

      #Settings
      {
        background-color: white;
      }
    </style>
  </head>

  <body>
    <div id="Settings">
      <br>
      <!-- 色変更 -->
      <table>
        <tr>
          <th></th>
          <th>文字色</th>
          <th>フチ色</th>
        </tr>
        <tr>
          <td>曲名 :</td>
          <td>
            <input id="SongName_ColorDialog" type="color" value="#ffffff">
          </td>
          <td>
            <input id="SongName_Bordering_ColorDialog" type="color" value="#000000">
          </td>
          <td>
            　　背景色：<input id="background_ColorDialog" type="color" value="#00ff00">
          </td>
      </table>

      <br>
      <!-- サイズ変更 -->
      <table>
        <tr>
          <th></th>
          <th>サイズ</th>
          <th>縁取り</th>
        </tr>
        <tr>
          <td>曲名 :</td>
          <td>
            <label><!-- フォント -->
              <input id="SongName_FontSizeSlider" type="range" min="0" max="50" step="1" value="30">
              　<span id="FontSize"></span>
            </label>
          </td>
          <td>
            <label><!-- 縁取り -->
              　　<input id="SongName_BorderingSizeSlider" type="range" min="0" max="20" step="1" value="0">
              　<span id="BorderingSize"></span>
            </label>
          </td>
        </tr>
      </table>

      <br>
      <!-- 曲名入力 -->
      <input type="text" id="SongName" name="SongName" size="45" placeholder="曲名を記入してください">
      <input type="button" id="SongAddButton" name="AddButton" value="追加" onclick="AddSong()">

      <hr>

    </div>

    <!-- 曲名リスト -->
    <ol id="SongList">
      <li>aaaaa</li>
    </ol>
  </body>

  <script>
    //
    // 初期化処理
    //
    $(window).on('load', function() {
      console.log("load");

      // 背景色
      $('body').css({'background-color':$('#background_ColorDialog').val()});

      // 曲名フォントサイズ
      const DefaultFontSize = "30px";
      //サイズを表示する要素
      $('#FontSize').html(DefaultFontSize);
      //サイズを変更される要素
      $('#SongList').css({'font-size':DefaultFontSize});

      // 曲名縁取りフォントサイズ
      const DefaultBorderingSize = "0px";
      //縁取りのサイズを表示する要素
      $('#BorderingSize').html(DefaultBorderingSize);
      //縁取りのサイズを変更される要素
      $('#SongList').css({'text-stroke':DefaultBorderingSize});
    });

    //
    // 曲名追加
    //
    function AddSong()
    {
      var element = document.getElementById("SongList");
      var text = document.getElementById("SongName");

      var li = document.createElement('li');
      li.textContent = text.value;
      document.getElementById('SongList').appendChild(li);

      text.value = "";
    }

    //
    // 背景色
    //
    $('#background_ColorDialog').on('change', function()
    {
      let val = $(this).val();

      console.log("背景色："+val);

      // 色を変更する要素
      $('body').css({'background-color':val});
    });

    //
    // 曲名文字色関連
    //
    $('#SongName_ColorDialog').on('change', function()
    {
      let val = $(this).val();

      console.log("曲名文字色："+val);

      // 色を変更する要素
      $('#SongList').css({'color':val});
    });


    //
    // 曲名フォントサイズ関連
    //

    //
    // 曲名フォントサイズ変更
    //
    $('#SongName_FontSizeSlider').on('input', function()
    {
      let val = $(this).val();
      val += 'px';

      //サイズを表示する要素
      $('#FontSize').html(val);

      //サイズを変更される要素
      $('#SongList').css({'font-size':val});
    });

    //
    // 曲名縁取り関連
    //

    //
    // 色
    //
    $('#SongName_Bordering_ColorDialog').on('change', function()
    {
      let val = $(this).val();

      console.log("曲名文字色："+val);

      // 色を変更する要素
      $('#SongList').css({'text-stroke-color':val});
    });

    //
    // 曲名縁取りサイズ変更
    //
    $('#SongName_BorderingSizeSlider').on('input', function()
    {
      let val = $(this).val();
      val += 'px';

      //サイズを表示する要素
      $('#BorderingSize').html(val);

      //サイズを変更される要素
      $('#SongList').css({'text-stroke':val});

      // text-strokeを更新すると自動的に黒になるのでtext-stroke-colorも更新
      $('#SongList').css({'text-stroke-color':$('#SongName_Bordering_ColorDialog').val()});
    });
  </script>
</html>